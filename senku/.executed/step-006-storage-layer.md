# Step 006: Storage Layer

## Status: NOT STARTED

| Task | Status | Date | Notes |
|------|--------|------|-------|
| Create storage.rs module with storage abstractions | - | - | - |
| Implement .senku/ directory management (create, permissions) | - | - | - |
| Implement vector store (LanceDB or embedded qdrant) | - | - | - |
| Support similarity search (cosine, top-K, filtered) | - | - | - |
| Implement graph store (petgraph + SQLite) | - | - | - |
| Define nodes (files, functions, classes) and edges (calls, imports, inherits) | - | - | - |
| Implement metadata store (SQLite: file metadata, chunk metadata, stats) | - | - | - |
| Implement VectorStore trait (insert, search, delete, count) | - | - | - |
| Implement GraphStore trait (add_node, add_edge, query_callers, query_deps) | - | - | - |
| Implement storage initialization and migration | - | - | - |
| Implement store compaction/optimization | - | - | - |
| Unit tests for vector store operations | - | - | - |
| Tests for graph store operations | - | - | - |
| Tests for metadata store CRUD | - | - | - |

Status legend: `-` Not started | `WIP` In progress | `DONE` Complete | `BLOCKED` Blocked
